# Skillix 技术选型

> 日期: 2026-01-11
> 来源: 从初步设计构想拆分
> 更新: 确定 MCP Server 为核心方案

---

## 一、背景

在 Cursor 中实现类似 Claude Code 的 Skill 系统，需要选择合适的技术方案。本文档对比分析各种可行方案，为技术选型提供参考。

---

## 二、需求分析

### 2.1 核心功能

| 功能 | 优先级 | 说明 |
|------|--------|------|
| 列出技能 | P0 | 展示所有可用技能的名称和描述 |
| 读取技能 | P0 | 加载指定技能的详细内容 |
| 创建技能 | P1 | 快速创建符合规范的技能文件 |
| 更新技能 | P1 | 修改现有技能内容 |
| 智能分流 | P1 | 自动判断使用/改进/创建技能 |
| 自动建议 | P2 | AI 自动识别并建议创建技能 |
| 反馈收集 | P3 | 收集技能使用反馈用于优化 |

### 2.2 非功能需求

| 需求 | 说明 |
|------|------|
| 易用性 | 简单的工具调用，无需手动执行命令 |
| 可维护性 | 代码结构清晰，易于扩展 |
| 兼容性 | 支持 macOS、Linux、Windows |
| 全局可用 | 一次安装，所有项目可用 |
| 易于更新 | 通过 npm 自动更新 |
| 跨平台 | 支持 Cursor、Claude Desktop、Claude Code 等 |

---

## 三、方案对比

### 3.1 方案概览

| 方案 | 技术栈 | 调用方式 | 复杂度 | 推荐场景 |
|------|--------|----------|--------|----------|
| Shell 脚本 | Bash | `bash script.sh` | 低 | ❌ 不推荐 |
| Node.js CLI | TypeScript/JS | `npx xxx` | 中 | 备选方案 |
| Python CLI | Python | `python xxx.py` | 中 | 备选方案 |
| **MCP Server** | TypeScript | **工具调用** | 高 | **✅ 推荐** |
| 纯 Rules | Markdown | 文件读取 | 最低 | 最简场景 |

### 3.2 详细对比

#### 方案一：Shell 脚本 ❌ 不推荐

**实现方式**：
```bash
bash scripts/skill-loader.sh list
bash scripts/skill-loader.sh read pdf
bash scripts/skill-loader.sh create my-skill "description"
```

**优点**：
- ✅ 零依赖，任何系统都能运行
- ✅ 实现简单，快速上手

**缺点**：
- ❌ **需要复制到每个项目** - 维护成本高
- ❌ **更新困难** - 需要手动同步到所有项目
- ❌ 功能有限，难以实现复杂逻辑
- ❌ 错误处理能力弱
- ❌ Windows 兼容性需要额外处理

**结论**：不推荐，违背"全局可用、易于更新"的需求

---

#### 方案二：Node.js CLI（备选）

**实现方式**：
```bash
npx skillix list
npx skillix read pdf
npx skillix create my-skill --desc "description"
```

**技术栈**：
- TypeScript / JavaScript
- Commander.js (命令行解析)
- Inquirer.js (交互式选择)
- Chalk (终端美化)

**优点**：
- ✅ 全局安装一次，所有项目可用
- ✅ 通过 npm 更新
- ✅ 功能强大，易于扩展
- ✅ 跨平台兼容性好

**缺点**：
- ❌ AI 需要执行 Bash 命令调用
- ❌ 无法实现智能分流等高级功能
- ❌ 与 Cursor 集成不够原生

**适用场景**：作为 MCP Server 的备选方案

**参考项目**：[OpenSkills](https://github.com/numman-ali/openskills)

---

#### 方案三：Python CLI（备选）

**实现方式**：
```bash
python skillix.py list
python skillix.py read pdf
python skillix.py create my-skill --desc "description"
```

**优点**：
- ✅ 语法简洁，易于阅读
- ✅ 丰富的标准库

**缺点**：
- ❌ AI 需要执行 Bash 命令调用
- ❌ 分发不如 npm 方便
- ❌ 版本兼容性问题

**适用场景**：Python 技术栈团队的备选方案

---

#### 方案四：MCP Server ✅ 推荐

**实现方式**：
```json
// ~/.cursor/mcp.json（全局配置一次）
{
  "mcpServers": {
    "skillix": {
      "command": "npx",
      "args": ["skillix-mcp"]
    }
  }
}
```

**AI 调用方式**：
```
AI 直接调用 sx_list 工具查看可用技能
AI 直接调用 sx_read 工具读取 pdf 技能
AI 直接调用 sx_create 工具创建新技能
AI 直接调用 sx-dispatch 工具进行智能分流
```

**技术栈**：
- TypeScript
- @modelcontextprotocol/sdk
- Zod (参数验证)

**优点**：
- ✅ **全局配置一次，所有项目可用**
- ✅ **通过 npm 自动更新**
- ✅ **AI 直接调用工具，无需执行 Bash 命令**
- ✅ **支持智能分流等高级功能**
- ✅ **与 Cursor 原生集成**
- ✅ **跨平台支持**（Cursor、Claude Desktop、Claude Code）
- ✅ 更好的错误处理和返回值
- ✅ 类型安全

**缺点**：
- ⚠️ 实现复杂度较高
- ⚠️ 需要配置 MCP 服务器
- ⚠️ 调试相对困难

**适用场景**：**Skillix 的核心实现方案**

---

#### 方案五：纯 Rules

**实现方式**：
```markdown
# .cursor/rules/skill-system.mdc

## 可用技能

| 技能 | 描述 | 路径 |
|------|------|------|
| pdf | PDF 处理 | skills/pdf/SKILL.md |

## 使用方式

当需要使用技能时，直接读取对应的 SKILL.md 文件。
```

**优点**：
- ✅ 零依赖
- ✅ 最简单

**缺点**：
- ❌ 需要手动维护技能列表
- ❌ 没有自动化
- ❌ 功能最弱

**适用场景**：最简单的场景、技能数量很少

---

## 四、开源项目参考

### 4.1 OpenSkills

- **GitHub**: [numman-ali/openskills](https://github.com/numman-ali/openskills)
- **技术栈**: TypeScript + Node.js CLI
- **Stars**: 4.4k
- **特点**: 
  - 100% 兼容 Anthropic Skills 规范
  - 支持从 GitHub 安装技能
  - 交互式 TUI
- **借鉴**: 技能格式规范、目录结构

### 4.2 Anthropic 官方 MCP Servers

- **GitHub**: [modelcontextprotocol/servers](https://github.com/modelcontextprotocol/servers)
- **包含**: filesystem、sqlite、github 等多个 MCP 服务器
- **借鉴**: MCP Server 实现的最佳实践

### 4.3 SkillForge

- **GitHub**: [tripleyak/SkillForge](https://github.com/tripleyak/SkillForge)
- **特点**: 智能分流机制
- **借鉴**: sx-dispatch 工具的设计

---

## 五、推荐方案

### 5.1 最终选择：MCP Server

**Skillix 采用 MCP Server 作为核心实现方案**

理由：
1. **全局可用** - 配置一次，所有项目可用，无需复制脚本
2. **易于更新** - 通过 npm 自动更新，无需手动同步
3. **原生集成** - AI 直接调用工具，无需执行 Bash 命令
4. **功能强大** - 支持智能分流、自动建议等高级功能
5. **跨平台** - 支持 Cursor、Claude Desktop、Claude Code 等多种 AI 工具

### 5.2 方案对比总结

| 对比项 | Shell 脚本 | Node.js CLI | MCP Server |
|--------|-----------|-------------|------------|
| 安装方式 | 每个项目复制 | 全局安装 | **全局配置** |
| 更新方式 | 手动同步 | npm update | **npm update** |
| 调用方式 | bash 命令 | bash 命令 | **工具调用** |
| 智能分流 | ❌ | ❌ | **✅** |
| 跨平台 AI 工具 | ❌ | ❌ | **✅** |
| 维护成本 | 高 | 中 | **低** |

### 5.3 架构优势

```
┌─────────────────────────────────────────────────────────────┐
│                    MCP Server 架构优势                       │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  1. 全局配置一次                                             │
│     ~/.cursor/mcp.json                                       │
│     └── skillix-mcp                                          │
│                                                              │
│  2. 所有项目自动可用                                          │
│     project-a/skills/                                        │
│     project-b/skills/                                        │
│     project-c/skills/                                        │
│                                                              │
│  3. 一键更新                                                 │
│     npm update -g skillix-mcp                                │
│                                                              │
│  4. 跨平台支持                                               │
│     Cursor ✅                                                │
│     Claude Desktop ✅                                        │
│     Claude Code ✅                                           │
│     其他 MCP 客户端 ✅                                       │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

---

## 六、技术对比总结

| 维度 | Shell | Node.js CLI | Python CLI | **MCP Server** | 纯 Rules |
|------|-------|-------------|------------|----------------|----------|
| 实现复杂度 | ⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐ |
| 功能丰富度 | ⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | **⭐⭐⭐⭐⭐** | ⭐ |
| 用户体验 | ⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | **⭐⭐⭐⭐⭐** | ⭐⭐ |
| 全局可用 | ❌ | ✅ | ✅ | **✅** | ❌ |
| 易于更新 | ❌ | ✅ | ⚠️ | **✅** | ❌ |
| Cursor 集成 | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | **⭐⭐⭐⭐⭐** | ⭐⭐ |
| 跨平台 AI 工具 | ❌ | ❌ | ❌ | **✅** | ❌ |

**最终结论**：**MCP Server** 是 Skillix 的最佳实现方案，满足全局可用、易于更新、原生集成、跨平台支持等核心需求。

---

*本文档为 Skillix 技术选型文档*
*最终选择：MCP Server 作为核心实现方案*
